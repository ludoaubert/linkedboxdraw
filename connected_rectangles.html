<html>
<meta charset="UTF-8">
  <head>
    <title>connected rectangles</title>
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	
   <script>   

//	import contexts from "./contexts.json" assert { type: "json" };
//	import data from "./diagdata.json" assert { type: "json" };

	function onLoad() {
		var Module = {
		  'print': function(text) { console.log('stdout: ' + text) },
		  'printErr': function(text) { console.log('stderr: ' + text) }
		}; 

//		loadDiag(data, contexts);
	
		var data = null;
		var contexts = null;
		
		var xmlhttp1 = new XMLHttpRequest();
		var data_url = "diagdata.json";

		xmlhttp1.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				data = this.responseText;
				if (contexts != null)
					loadDiag(data, contexts);
			}
		};
		xmlhttp1.open("GET", data_url, true);
		xmlhttp1.send();
		

		var xmlhttp2 = new XMLHttpRequest();
		var contexts_url = "contexts.json";

		xmlhttp2.onreadystatechange = function() {
			if (this.readyState == 4 && this.status == 200) {
				contexts = this.responseText;
				if (data != null)
					loadDiag(data, contexts);
			}
		};
		xmlhttp2.open("GET", contexts_url, true);
		xmlhttp2.send();
	}
    </script>
	
    <script type="text/javascript" src="bombix-origine.js"></script>
	<script type="text/javascript" src="pretty.js"></script>
    <script type="text/javascript" src="imgcomponent.js"></script>
	<link rel="stylesheet" type="text/css" href="imgcomponent.css">
	<script type="text/javascript" src="iocomponent.js"></script>
	<link rel="stylesheet" type="text/css" href="iocomponent.css">
    <script type="text/javascript" src="diagload.js"></script>
    <link rel="stylesheet" type="text/css" href="diagstyle.css">	
  </head>
  
  <body onload="onLoad()">

  </body>
</html>
